<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <base data-ice="baseUrl" href="../">
  <title data-ice="title">Manual | HapiServer</title>
  <link type="text/css" rel="stylesheet" href="css/style.css">
  <link type="text/css" rel="stylesheet" href="css/prettify-tomorrow.css">
  <script src="script/prettify/prettify.js"></script>
  <script src="script/manual.js"></script>
<meta name="description" content="Template for Hapi Server"><meta property="twitter:card" content="summary"><meta property="twitter:title" content="HapiServer"><meta property="twitter:description" content="Template for Hapi Server"></head>
<body class="layout-container manual-root manual-index" data-ice="rootContainer">

<header>
  <a href="./">Home</a>
  <a href="./manual/index.html" data-ice="manualHeaderLink">Manual</a>
  <a href="identifiers.html">Reference</a>
  <a href="source.html">Source</a>
  <a href="test.html" data-ice="testLink">Test</a>
  <a href="swagger/index.html">API</a>
<a style="position:relative; top:3px;" href="https://github.com/devlinjunker/template.node.hapi"><img width="20px" src="./image/github.png"></a></header>

<nav class="navigation" data-ice="nav"><div class="manual-toc-root">
  
<div data-ice="manual">
    <ul class="manual-toc">
      
    <li data-ice="manualNav" class="indent-h1" data-link="manual/entry.html"><a href="manual/entry.html" data-ice="link">Application Entry Point</a></li>
</ul>
  </div>
<div data-ice="manual">
    <ul class="manual-toc">
      
    <li data-ice="manualNav" class="indent-h1" data-link="manual/README.controllers.html"><a href="manual/README.controllers.html" data-ice="link">Controllers</a></li>
<li data-ice="manualNav" class="indent-h2" data-link="manual/README.controllers.html"><a href="manual/README.controllers.html#notes-ideas" data-ice="link">Notes/Ideas</a></li>
</ul>
  </div>
<div data-ice="manual">
    <ul class="manual-toc">
      
    <li data-ice="manualNav" class="indent-h1" data-link="manual/README.dataservices.html"><a href="manual/README.dataservices.html" data-ice="link">Dataservices</a></li>
<li data-ice="manualNav" class="indent-h2" data-link="manual/README.dataservices.html"><a href="manual/README.dataservices.html#hello-world" data-ice="link">Hello World</a></li>
<li data-ice="manualNav" class="indent-h2" data-link="manual/README.dataservices.html"><a href="manual/README.dataservices.html#note-dataservice" data-ice="link">Note Dataservice</a></li>
</ul>
  </div>
<div data-ice="manual">
    <ul class="manual-toc">
      
    <li data-ice="manualNav" class="indent-h1" data-link="manual/README.helpers.html"><a href="manual/README.helpers.html" data-ice="link">Helpers</a></li>
<li data-ice="manualNav" class="indent-h2" data-link="manual/README.helpers.html"><a href="manual/README.helpers.html#notes-ideas" data-ice="link">Notes/Ideas</a></li>
</ul>
  </div>
<div data-ice="manual">
    <ul class="manual-toc">
      
    <li data-ice="manualNav" class="indent-h1" data-link="manual/README.test.html"><a href="manual/README.test.html" data-ice="link">Test</a></li>
</ul>
  </div>
</div>
</nav>

<div class="content" data-ice="content"><div class="github-markdown">
  <div class="manual-user-index" data-ice="manualUserIndex"><h1 id="simple-template-api-docs">Simple Template API Docs</h1><ul>
<li><a href="manual/entry.html">Entry Point</a></li>
<li><a href="manual/README.controllers.html">Controllers</a> - mappings from url endpoints to methods for handling requests</li>
<li><a href="manual/README.dataservices.html">Dataservices</a> - classes/methods that connect to external services or datastores</li>
<li><a href="manual/README.helpers.html">Helpers</a> - classes that are used frequently for interacting with other systems/tools</li>
<li><a href="manual/README.test.html">Test</a> - Testing Files used to run the unit tests (eventually automated tests)</li>
</ul>
<p>.</p>
</div>

  

  <div class="manual-cards">
    
  <div class="manual-card-wrap" data-ice="cards">
      <div class="manual-card">
        <div data-ice="card"><h1>Application Entry Point</h1><p>The <a href="./manual/../file/src/entry.js.html#lineNumber47">main method</a> is where we import the server class, and set up the routes to
be handled by our application. We also want to make ensure the application is closed down as calmly as
possible when the user asks, so we make sure to nicely ask our server to shut itself and then ask mariadb to
close any open connections.</p><p>I think we also added <a href="./manual/../file/src/entry.js.html#lineNumber83">the handler</a> for <code>unhandledRejection</code>
exceptions so that we print the error to output before exiting (We may also want to log this to any
notification system)</p></div>
        <a data-ice="link" href="manual/entry.html"></a>
      </div>
    </div>
<div class="manual-card-wrap" data-ice="cards">
      <div class="manual-card">
        <div data-ice="card"><h1>Controllers</h1><p>Controllers are functions that handle requests to specific endpoint paths:</p><pre><code><code class="source-code prettyprint">function controllerFunction(request) {
    ... do stuff and return a message ...
}</code>
</code></pre><p>The first parameter passed in is the <a href="https://github.com/hapijs/hapi/blob/master/API.md#request for HapiRequest">HapiRequest</a> object</p><p>We define the mapping from endpoint/method to controller function with an JSON object:</p><pre><code><code class="source-code prettyprint">const map1 = {
  path: &quot;/endpoint&quot;,
  method: &quot;GET&quot;, ///
  controller: controllerFunction
}</code>
</code></pre><p>To make this endpoint available to the server, we need to export an array of these mappings:</p><pre><code><code class="source-code prettyprint">export default [ map1, map2, ... ];</code>
</code></pre><h2>Notes/Ideas</h2><ul>
<li>Do not instantiate classes to handle requests. This would be a huge memory overhead!<ul>
<li>From Walmart interview: class methods bad for memory as we don&apos;t want to instantiate a class in memory. Seems like that isn&apos;t true for static functions though... <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Classes/static">https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Classes/static</a></li>
<li>I prefer creating classes with <strong>static</strong>  methods for encapsulation for testing and documentation purposes</li>
</ul>
</li>
<li>DO NOT USE SHARED CLASS PROPERTIES/STATEFUL VARIABLES IN CONTROLLER FUNCTIONS<ul>
<li>These functions need to be stateless.</li>
</ul>
</li>
</ul></div>
        <a data-ice="link" href="manual/README.controllers.html"></a>
      </div>
    </div>
<div class="manual-card-wrap" data-ice="cards">
      <div class="manual-card">
        <div data-ice="card"><h1>Dataservices</h1><p>Dataservices communicate with storage systems or external APIs to fetch/store data.</p><h2>Hello World</h2><p>Simple example of Hello World endpoint plus example with random value and input from path parameter</p><h2>Note Dataservice</h2><p>Create/Read Note objects out of a mariadb/mysql database</p></div>
        <a data-ice="link" href="manual/README.dataservices.html"></a>
      </div>
    </div>
<div class="manual-card-wrap" data-ice="cards">
      <div class="manual-card">
        <div data-ice="card"><h1>Helpers</h1><p>Helpers are classes that wrap some functionality not associated with an external service</p><p><strong>Examples:</strong></p><ul>
<li>[..] mysql/mardiadb<ul>
<li>connecting with mariadb server<ul>
<li>query</li>
<li>insert</li>
<li>fetch</li>
<li>fetchOne</li>
</ul>
</li>
</ul>
</li>
<li>[..] config<ul>
<li>reading properties from config file</li>
</ul>
</li>
<li>[ ] external-service request (with performance monitoring/caching?)</li>
<li>[ ] Logging<ul>
<li>GELF/Kibana?</li>
<li>Winston/Bunyon</li>
</ul>
</li>
<li>[ ] SendEmail</li>
<li>[ ] Cron?</li>
<li>[ ] Authentication?</li>
</ul><h2>Notes/Ideas</h2><ul>
<li>Do we want/need to worry about Dependency Injection/Singletons?</li>
<li>IDEA: Move Server into helpers as <code>server.helper.js</code>?</li>
</ul></div>
        <a data-ice="link" href="manual/README.helpers.html"></a>
      </div>
    </div>
<div class="manual-card-wrap" data-ice="cards">
      <div class="manual-card">
        <div data-ice="card"><h1>Test</h1><p>Testing Bootstrap file finds all of the test files and imports global objects that can be used in all tests
to simplify each test file. Also creates a sinon Sandbox that is rest before each test for mocking context</p><p>Imports:</p><ul>
<li>Sinon</li>
<li>expect from Chai</li>
<li>describe/it/beforeEach from Mocha</li>
</ul></div>
        <a data-ice="link" href="manual/README.test.html"></a>
      </div>
    </div>
</div>
</div>
</div>

<footer class="footer">
  Generated by <a href="https://esdoc.org">ESDoc<span data-ice="esdocVersion">(1.1.0)</span><img src="./image/esdoc-logo-mini-black.png"></a>
</footer>

<script src="script/search_index.js"></script>
<script src="script/search.js"></script>
<script src="script/pretty-print.js"></script>
<script src="script/inherited-summary.js"></script>
<script src="script/test-summary.js"></script>
<script src="script/inner-link.js"></script>
<script src="script/patch-for-local.js"></script>
</body>
</html>
