<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <base data-ice="baseUrl">
  <title data-ice="title">Home | HapiServer</title>
  <link type="text/css" rel="stylesheet" href="css/style.css">
  <link type="text/css" rel="stylesheet" href="css/prettify-tomorrow.css">
  <script src="script/prettify/prettify.js"></script>
  <script src="script/manual.js"></script>
<meta name="description" content="Template for Hapi Server"><meta property="twitter:card" content="summary"><meta property="twitter:title" content="HapiServer"><meta property="twitter:description" content="Template for Hapi Server"></head>
<body class="layout-container" data-ice="rootContainer">

<header>
  <a href="./">Home</a>
  
  <a href="identifiers.html">Reference</a>
  <a href="source.html">Source</a>
  <a href="test.html" data-ice="testLink">Test</a>
  <div class="search-box">
  <span>
    <img src="./image/search.png">
    <span class="search-input-edge"></span><input class="search-input"><span class="search-input-edge"></span>
  </span>
    <ul class="search-result"></ul>
  </div>
</header>

<nav class="navigation" data-ice="nav"><div>
  <ul>
    
  <li data-ice="doc"><a data-ice="dirPath" class="nav-dir-path" href="identifiers.html#base">base</a><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/src/base/server.js~Server.html">Server</a></span></span></li>
<li data-ice="doc"><a data-ice="dirPath" class="nav-dir-path" href="identifiers.html#controllers">controllers</a><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/src/controllers/hello.js~HelloWorld.html">HelloWorld</a></span></span></li>
</ul>
</div>
</nav>

<div class="content" data-ice="content"><div data-ice="index" class="github-markdown"><h1 id="basic-webpack-server-app">Basic Webpack Server App</h1><p>This is meant to be an example/template of how to use Webpack in the Backend for rapid development.</p>
<p>Simple endpoints that store and retrieve values</p>
<h2 id="dependencies">Dependencies</h2><p>Node v8+ and npm
  (tested with node v8.12.0 and v10.15.1)</p>
<p>See <a href="https://github.com/devlinjunker/basic.webpack/blob/master/package.json">package.json</a> for full list of current dependencies</p>
<ul>
<li>Hapi v18</li>
<li>Webpack + Loaders</li>
<li>Babel</li>
<li>FlowJS</li>
<li>ESLint</li>
<li>Mocha, Chai, Sinon</li>
<li>EsDoc</li>
</ul>
<h2 id="development">Development</h2><p>How to use this template to create a quick HTTP REST server:</p>
<ol>
<li>Download and update dependencies</li>
</ol>
<h3 id="tests-running">Tests/Running</h3><p><code>npm run start-watch</code> to run open the server and run Webpack to watch for changes, recompiling, running the tests and restarting the server when it is done</p>
<p><code>npm run test-watch</code> to run Mocha and with all tests associated with the project, watch for changes on the files to re-run the tests</p>
<p><code>npm run dev-watch</code> to run only webpack and watch for changes on the files to recompile and reload the server</p>
<p><code>npm run test</code> to run all of the unit tests for the application one time</p>
<p><code>npm run dev</code> to run a development version of the server</p>
<p><code>npm run build</code> to compile development version of server to <code>dist/</code></p>
<p><code>npm run doc</code> to generate static documentation in the doc folder</p>
<p><code>npm run clean</code> clean the workspace (remove <code>dist/</code>)</p>
<p><code>npm run help</code> to print the contents of <code>help.txt</code> to the command line</p>
<p><strong>TODO</strong></p>
<p><code>npm run build-prod</code> ... TODO: compile application to production version</p>
<p><code>npm start</code> .. TODO: start production Server</p>
<p><code>npm stop</code> .. TODO: stop production Server</p>
<p><code>npm restart</code> will restart once start/stop completed</p>
<h3 id="todo">TODO</h3><ul>
<li>[x] (^) Node 8</li>
<li>[x] (^) Webpack  <ul>
<li><a href="https://medium.com/@christossotiriou/speed-up-nodejs-server-side-development-with-webpack-4-hmr-8b99a932bdda">https://medium.com/@christossotiriou/speed-up-nodejs-server-side-development-with-webpack-4-hmr-8b99a932bdda</a>  </li>
<li>[x] babel<ul>
<li>[x] sourcemap support</li>
<li><a href="https://www.npmjs.com/package/babel-plugin-source-map-support#description">https://www.npmjs.com/package/babel-plugin-source-map-support#description</a></li>
</ul>
</li>
<li>[x] flow webpack plugin - typechecking each compilation</li>
<li>[x] eslinting  </li>
<li>[x] test with mocha</li>
<li>[x] nodemon to run server</li>
<li>[ ] (v) production vs dev<ul>
<li>pm2 for production</li>
<li>proper logging</li>
</ul>
</li>
</ul>
</li>
<li>[ ] (^) Update Linting Rules (linewrap, length, etc)  <ul>
<li>ensuring files start with a comment <a href="https://github.com/Stuk/eslint-plugin-header">https://github.com/Stuk/eslint-plugin-header</a>  </li>
<li>Require Comments <a href="https://eslint.org/docs/rules/require-jsdoc">https://eslint.org/docs/rules/require-jsdoc</a> and valid <a href="https://eslint.org/docs/rules/valid-jsdoc">https://eslint.org/docs/rules/valid-jsdoc</a>  </li>
<li>Headers  </li>
</ul>
</li>
<li>[ ] (^) Simple MongoDB endpoint  </li>
<li>[ ] (^) OpenAPI (Swagger) Documentation and ESDoc Plugin <a href="https://swagger.io/docs/specification/about/">https://swagger.io/docs/specification/about/</a>  </li>
<li>[ ] (^) OpenAPI Validation  </li>
<li>[..] (^) Chai as promised and sinon-chai  </li>
<li>[ ] (^) Config.yaml and Env config file<ul>
<li>port</li>
<li>other services/apis later?</li>
</ul>
</li>
<li>[ ] (-) Require Node v8 and recommend v10 on build</li>
<li>[ ] (-) <code>bin/</code> directory with script named <code>node.hapi</code> for starting/stopping prod</li>
<li>[ ] (-) Automatically find controller files in entry rather than need to reference  </li>
<li>[ ] (-) Add logging with Winston/Bunyon<ul>
<li>pino logs to file too?</li>
</ul>
</li>
<li>[ ] (-) Run only affected tests on file save  </li>
<li>[ ] (-) Githooks for generating reports/linting  </li>
<li>[ ] (v) ESDoc plugins <a href="https://medium.com/trabe/understanding-esdoc-plugins-d9ee9095d98b">https://medium.com/trabe/understanding-esdoc-plugins-d9ee9095d98b</a>  </li>
<li>[ ] (v) Cucumber.js for BDD(Behavior Driven Development) testing <a href="http://cucumber.github.io/cucumber-js/">http://cucumber.github.io/cucumber-js/</a>  </li>
<li>[ ] (v) Test coverage saved in spec files  </li>
<li>[ ] (v) Babel Istanbul(NYC) plugin <a href="https://github.com/istanbuljs/babel-plugin-istanbul">https://github.com/istanbuljs/babel-plugin-istanbul</a>  </li>
<li>[ ] (v) Istanbul (NYC) Reporters <a href="https://github.com/istanbuljs/istanbuljs/tree/master/packages/istanbul-reports/lib">https://github.com/istanbuljs/istanbuljs/tree/master/packages/istanbul-reports/lib</a>  </li>
<li>[ ] (v) Authorized vs Unauthorized endpoints  </li>
<li>[x] (v) ESDoc Manual <a href="https://doc.esdoc.org/github.com/esdoc/esdoc/manual/feature.html#integration-manual">https://doc.esdoc.org/github.com/esdoc/esdoc/manual/feature.html#integration-manual</a>  </li>
<li><del>[ ] Docsify?</del>  </li>
</ul>
<h2 id="issues">Issues</h2><pre><code><code class="source-code prettyprint">events.js:183
      throw er; // Unhandled &apos;error&apos; event
      ^

Error: spawn mocha ENOENT
    at Process.ChildProcess._handle.onexit (internal/child_process.js:190:19)
    at onErrorNT (internal/child_process.js:362:16)
    at _combinedTickCallback (internal/process/next_tick.js:139:11)
    at process._tickCallback (internal/process/next_tick.js:181:9)</code>
</code></pre><ul>
<li>Made sure using node v8 and re-ran <code>npm install -D</code></li>
</ul>
<pre><code><code class="source-code prettyprint">module.js:550
    throw err;
    ^

Error: Cannot find module &apos;babel-polyfill&apos;</code>
</code></pre><ul>
<li>Commented out line <code>polyfill: &quot;@babel/polyfill&quot;,</code> in webpack.config.js</li>
<li>re-ran webpack <code>npm run build</code></li>
<li>then uncommented line and ran <code>npm run start-watch</code></li>
</ul>
</div>
</div>

<footer class="footer">
  Generated by <a href="https://esdoc.org">ESDoc<span data-ice="esdocVersion">(1.1.0)</span><img src="./image/esdoc-logo-mini-black.png"></a>
</footer>

<script src="script/search_index.js"></script>
<script src="script/search.js"></script>
<script src="script/pretty-print.js"></script>
<script src="script/inherited-summary.js"></script>
<script src="script/test-summary.js"></script>
<script src="script/inner-link.js"></script>
<script src="script/patch-for-local.js"></script>
</body>
</html>
